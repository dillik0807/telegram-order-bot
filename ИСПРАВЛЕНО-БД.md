# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## –ü—Ä–æ–±–ª–µ–º–∞
```
‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î: SQLITE_CANTOPEN
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π Order Bot: 
   TypeError: Cannot set properties of undefined
```

## –ü—Ä–∏—á–∏–Ω–∞
–ë–æ—Ç –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ SQLite, –Ω–æ –Ω–∞ Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL.

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å –¥–ª—è PostgreSQL
- `database-postgres.js` - –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL
- –í—Å–µ –º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `pg` –¥—Ä–∞–π–≤–µ—Ä–∞
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑–º–µ–Ω–µ–Ω—ã —Å `?` –Ω–∞ `$1, $2, $3`
- –í—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º—è–≥–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è

### 2. ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- `switch-to-postgres.js` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ PostgreSQL
- `switch-to-sqlite.js` - –≤–æ–∑–≤—Ä–∞—Ç –∫ SQLite
- `check-database.js` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω fix-order-bot-soft-delete.js
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å `prototype`
- –¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –∫–ª–∞—Å—Å Database
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ PostgreSQL

### 4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω bot.js
- –£—Å–ª–æ–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –¥–ª—è SQLite)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ –ë–î

### 5. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `FIX-DATABASE-ERROR.md` - –±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- `POSTGRESQL-SETUP.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω `README.md`

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è Railway (PostgreSQL)

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
npm run check-db

# 2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ PostgreSQL
npm run use-postgres

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å
npm start
```

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (SQLite)

```bash
# 1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ SQLite
npm run use-sqlite

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å
npm start
```

## –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã npm

```bash
npm run check-db      # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø –ë–î
npm run use-postgres  # –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ PostgreSQL
npm run use-sqlite    # –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ SQLite
npm start             # –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
npm run dev           # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å nodemon
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### PostgreSQL (Railway/Heroku)
```env
DATABASE_URL=postgresql://user:pass@host:5432/database
```

### SQLite (–ª–æ–∫–∞–ª—å–Ω–æ)
```env
DB_PATH=./orders.db
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

### PostgreSQL:
```
‚úÖ PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω
‚úÖ –¢–∞–±–ª–∏—Ü—ã PostgreSQL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
üîß –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω—ã
ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ!
```

### SQLite:
```
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Order Bot –∑–∞–≥—Ä—É–∂–µ–Ω—ã (SQLite)
ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ!
```

## –§–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `database-postgres.js` - PostgreSQL –≤–µ—Ä—Å–∏—è
- `switch-to-postgres.js` - —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- `switch-to-sqlite.js` - —Å–∫—Ä–∏–ø—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞
- `check-database.js` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `FIX-DATABASE-ERROR.md` - –±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- `POSTGRESQL-SETUP.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `bot.js` - —É—Å–ª–æ–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `fix-order-bot-soft-delete.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ prototype
- `package.json` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
- `README.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ –ë–î

### –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏:
- `database-sqlite.js` - —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏

## –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ SQLite –≤ PostgreSQL:

1. –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ SQLite:
```bash
sqlite3 orders.db .dump > backup.sql
```

2. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏ –∏–º–ø–æ—Ä—Ç –≤ PostgreSQL - —Å–º. `POSTGRESQL-SETUP.md`

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run check-db` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–¥–ª—è PostgreSQL)
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω—É–∂–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä (`pg` –∏–ª–∏ `sqlite3`)

## –î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
8 —Ñ–µ–≤—Ä–∞–ª—è 2026
